var cli = require('../cli'),
    fs = require('fs'),
    repo = require('../repo'),
    util = require('util');

var log = cli.log;
var prompt = cli.prompt;

exports.info = function (arg, callback) {
    if (arg) {
        repo.CloudFoundries.find(arg, function (err, data) {
            if (data) {
                log.data(util.inspect(data));
            }
            callback(err, data);
        });
        return;
    }
    var schema = {
        properties: {
            cloudFoundryUrl: {
                required: true
            }
        }
    };
    prompt.get(schema, function (err, result) {
        if (err) {
            callback(err);
            return;
        }

        var cloudFoundryUrl = result.cloudFoundryUrl;
        repo.CloudFoundries.find(cloudFoundryUrl, function (err, data) {
            if (data) {
                log.data(util.inspect(data));
            }
            callback(err, data);
        });
    });
};

